# Ploom E2E Tests

This project contains end-to-end (E2E) tests for the Ploom website, developed using Playwright. The tests ensure the proper functionality of critical user flows, such as adding and removing products from the cart, verifying broken links and images, and other essential scenarios.

## Project Structure

```
ploome2etests/
├── .github/                 # GitHub-related workflows (e.g., CI/CD configurations)
├── node_modules/            # Installed dependencies (auto-generated)
├── pages/                   # Page Object Model (POM) files
│   ├── cartPage.ts          # Handles cart-related actions
│   ├── productPage.ts       # Handles product-related actions
│   └── shopPage.ts          # Handles shop-related actions
├── playwright-report/       # Test reports generated by Playwright
├── test-results/            # Test artifacts such as screenshots and traces
├── tests/                   # Test files
│   ├── verify.spec.ts       # Test cases for broken links and png files
│   └── cart.spec.ts         # Test cases for cart functionality
├── utils/                   # Utility files
│   └── utils.ts             # Utility methods for common operations
├── .gitignore               # Ignored files and directories
├── package.json             # Project dependencies and scripts
├── package-lock.json        # Lock file for dependencies
├── playwright.config.ts     # Playwright configuration file
└── README.md                # Project documentation
```

## Installation

1. Clone the repository:
   ```bash
   git clone https://github.com/your-repo/ploome2etests.git
   cd ploome2etests
   ```

2. Install dependencies:
   ```bash
   npm install
   ```

3. Install Playwright browsers:
   ```bash
   npx playwright install
   ```

## Running Tests

### Run All Tests
```bash
npm test
```

### Run Tests in Debug Mode
```bash
npm run test:debug
```

### Run Tests in Headed Mode
```bash
npm run test:headed
```

### Run Tests with Chromium in Headed Mode
```bash
npm run test:chrome:headed
```

### View Test Reports
After running tests, open the HTML report:
```bash
npm run test:report
```

## Scripts
The following scripts are available in `package.json`:

- **`test`**: Runs all Playwright tests.
- **`test:debug`**: Runs tests in debug mode.
- **`test:headed`**: Runs tests in headed mode.
- **`test:chrome:headed`**: Runs tests in headed mode with Chromium.
- **`test:report`**: Displays the Playwright HTML report.
- **`format`**: Formats code using Prettier.
- **`lint`**: Lints code using ESLint.

## Configuration
The Playwright configuration is defined in `playwright.config.ts`. Key settings include:

- **Base URL**: The environment-specific base URL is loaded from the `environments` array.
- **Projects**: Specifies the browsers used for testing (e.g., Chromium, Firefox, WebKit).
- **Timeouts**: Global and individual timeouts can be customized.

## Writing Tests
Tests are written in TypeScript and follow the Playwright test structure. Each test interacts with specific pages through the Page Object Model (POM), which abstracts actions into reusable methods.

Example test structure:
```typescript
import { test, expect } from '@playwright/test';
import ShopPage from '../pages/shopPage';
import ProductPage from '../pages/productPage';
import CartPage from '../pages/cartPage';

test('should add a product to the cart', async ({ page }) => {
  const shopPage = new ShopPage(page, 'Shop');
  const productPage = new ProductPage(page, 'ploom-x-advanced');
  const cartPage = new CartPage(page);

  await shopPage.openShop();
  await productPage.addProductToCart();
  await cartPage.goToCart();
  const productName = await cartPage.verifyProductInCart();

  expect(productName).toContain('Ploom X Advanced');
});
```

## Linting and Formatting

### Lint Code
```bash
npm run lint
```

### Format Code
```bash
npm run format
```

## Troubleshooting

- **Playwright Browsers Not Found**: Ensure you've installed the required browsers:
  ```bash
  npx playwright install
  ```

- **Environment Variables**: Ensure any necessary environment variables are properly set up.

## License
This project is licensed under the MIT License.

